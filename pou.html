<!DOCTYPE html>


<!-- Ultimate Game Stash file--> 
<!-- For the regularly updating doc go to https://docs.google.com/document/d/1_FmH3BlSBQI7FGgAQL59-ZPe8eCxs35wel6JUyVaG8Q/ -->



<base href="https://cdn.jsdelivr.net/gh/bubbls/UGS-Assets@main/happy%20room/">
<html lang="en-us">
<head>
<meta charset="utf-8">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<title>–°—á–∞—Å—Ç–ª–∏–≤–∞—è –ö–æ–º–Ω–∞—Ç–∞</title>
<link rel="stylesheet" href="TemplateData/style.css">
<link rel="shortcut icon" href="TemplateData/favicon.ico" />
<script src="TemplateData/UnityProgress.js"></script>

<script>
(function() {
  'use strict';
  
  const config = {
    files: [
      { name: 'Release/build_web.data', parts: 2 },
      { name: 'Release/build_web.asm.js', parts: 2 }
    ],
    debug: true
  };
  
  // Store blob URLs and merged buffers
  window.blobUrls = {};
  window.mergedFiles = {};
  const mergeStatus = {};

  function log(...args) { 
    if (config.debug) console.log('[BlobMerger]', ...args); 
  }
  
  function error(...args) { 
    console.error('[BlobMerger]', ...args); 
  }
  
  function normalizeUrl(url) { 
    try { 
      return decodeURIComponent(url.toString().split('?')[0]); 
    } catch (e) { 
      return url; 
    } 
  }
  
  function urlsMatch(url1, url2) {
    const n1 = normalizeUrl(url1), n2 = normalizeUrl(url2);
    if (n1 === n2 || n1.endsWith(n2) || n2.endsWith(n1)) return true;
    return n1.split('/').pop() === n2.split('/').pop();
  }

  async function mergeSplitFiles(filePath, partsCount) {
    try {
      const parts = [];
      for (let i = 1; i <= partsCount; i++) {
        parts.push(`${filePath}.part${i}`);
      }
      log(`Merging ${filePath} from ${partsCount} parts...`);
      
      const responses = await Promise.all(parts.map(p => fetch(p)));
      for (const r of responses) {
        if (!r.ok) throw new Error(`Part missing: ${r.url} (${r.status})`);
      }
      
      // For .js files, merge as text
      if (filePath.endsWith('.js')) {
        const texts = await Promise.all(responses.map(r => r.text()));
        const merged = texts.join('');
        log(`‚úÖ Merged: ${filePath} (${(merged.length/1024).toFixed(2)} KB)`);
        
        const blob = new Blob([merged], { type: 'application/javascript' });
        const blobUrl = URL.createObjectURL(blob);
        
        return { data: merged, blobUrl: blobUrl, isText: true };
      } else {
        // For binary files, merge as ArrayBuffer
        const buffers = await Promise.all(responses.map(r => r.arrayBuffer()));
        const totalLen = buffers.reduce((acc, b) => acc + b.byteLength, 0);
        const merged = new Uint8Array(totalLen);
        let offset = 0;
        
        for (const b of buffers) { 
          merged.set(new Uint8Array(b), offset); 
          offset += b.byteLength; 
        }
        
        log(`‚úÖ Merged: ${filePath} (${(totalLen/1024/1024).toFixed(2)} MB)`);
        
        const mimeType = filePath.endsWith('.wasm') ? 'application/wasm' : 'application/octet-stream';
        const blob = new Blob([merged], { type: mimeType });
        const blobUrl = URL.createObjectURL(blob);
        
        return { data: merged.buffer, blobUrl: blobUrl, isText: false };
      }
    } catch (e) { 
      error(e); 
      throw e; 
    }
  }

  function shouldIntercept(url) {
    const s = normalizeUrl(url);
    if (s.includes('.part')) return null;
    
    for (const f of config.files) {
      if (urlsMatch(s, f.name)) {
        return f.name;
      }
    }
    return null;
  }

  function getBlobUrl(name) {
    if (window.blobUrls[name]) return window.blobUrls[name];
    for (const [k, v] of Object.entries(window.blobUrls)) {
      if (urlsMatch(k, name)) return v;
    }
    return null;
  }

  function getMergedBuffer(name) {
    if (window.mergedFiles[name]) return window.mergedFiles[name];
    for (const [k, v] of Object.entries(window.mergedFiles)) {
      if (urlsMatch(k, name)) return v;
    }
    return null;
  }

  // Intercept fetch to return blob URLs
  if (!window.originalFetch) window.originalFetch = window.fetch;
  window.fetch = function(url, ...args) {
    const name = shouldIntercept(url);
    if (name) {
      log('Intercepting fetch for:', name);
      return new Promise((resolve, reject) => {
        const interval = setInterval(() => {
          const blobUrl = getBlobUrl(name);
          if (blobUrl) {
            clearInterval(interval);
            log('Fetching from blob URL:', name);
            window.originalFetch(blobUrl, ...args)
              .then(resolve)
              .catch(reject);
          } else if (mergeStatus[name] === 'failed') { 
            clearInterval(interval); 
            reject(new Error('Merge failed')); 
          }
        }, 50);
      });
    }
    return window.originalFetch.call(this, url, ...args);
  }

  // Intercept XHR to use blob URLs
  if (!window.OriginalXMLHttpRequest) window.OriginalXMLHttpRequest = window.XMLHttpRequest;
  window.XMLHttpRequest = function(opts) {
    const xhr = new window.OriginalXMLHttpRequest(opts);
    const originalOpen = xhr.open;
    const originalSend = xhr.send;
    
    xhr.open = function(method, url, ...args) { 
      this._url = url;
      this._method = method;
      this._openArgs = args;
      const name = shouldIntercept(url);
      
      if (name) {
        log('Intercepting XHR open:', name);
        this._shouldIntercept = true;
        this._interceptName = name;
        return;
      }
      
      return originalOpen.call(this, method, url, ...args); 
    };
    
    xhr.send = function(...args) {
      if (this._shouldIntercept) {
        const name = this._interceptName;
        log('Intercepting XHR send:', name);
        
        const checkInterval = setInterval(() => {
          const blobUrl = getBlobUrl(name);
          if (blobUrl) {
            clearInterval(checkInterval);
            log('Sending XHR with blob URL:', name);
            originalOpen.call(this, this._method, blobUrl, ...this._openArgs);
            originalSend.call(this, ...args);
          } else if (mergeStatus[name] === 'failed') {
            clearInterval(checkInterval);
            error('Failed to get blob URL for:', name);
          }
        }, 50);
        return;
      }
      
      return originalSend.call(this, ...args);
    };
    
    return xhr;
  }

  // Start merging process
  async function start() {
    log('Starting merge process...');
    for (const f of config.files) {
      mergeStatus[f.name] = 'merging';
      
      try {
        const result = await mergeSplitFiles(f.name, f.parts);
        window.mergedFiles[f.name] = result.data;
        window.blobUrls[f.name] = result.blobUrl;
        mergeStatus[f.name] = 'ready';
        log(`‚úÖ Ready: ${f.name}`);
      } catch (err) {
        mergeStatus[f.name] = 'failed';
        error(`Failed to merge ${f.name}:`, err);
      }
    }
    log('All files processed. Ready to load Unity.');
  }
  
  start();
})();
</script>

</head>
<body class="template">
<div class="template-wrap clear">
<canvas class="emscripten" id="canvas" oncontextmenu="event.preventDefault()" width="100%" height="100%"></canvas>
</div>
<script type="text/javascript">
  var Module = {
    TOTAL_MEMORY: 268435456,
    errorhandler: null,
    compatibilitycheck: null,
    backgroundColor: "#000000",
    splashStyle: "Light",
    dataUrl: "Release/build_web.data",
    codeUrl: "Release/build_web.js",
    asmUrl: "Release/build_web.asm.js",
    memUrl: "Release/build_web.mem",
  };
  const canvas2 = document.getElementById("canvas");
  // Function to resize the canvas to fit the window
  function resizeCanvas() {
    canvas2.width = window.innerWidth-50;
    canvas2.height = window.innerHeight-50;
  }
  resizeCanvas();
</script>
<script src="Release/UnityLoader.js"></script>

		                          <!-- Downloaded From Noah's Tutoring Hub -->
		                          <script>
		                              console.log('%cüîÑ Loading game downloaded from Noah\'s Tutoring Hub', 'color: #c27c15; font-weight: bold;');
		                          </script>

		                          <div id="noahs-watermark"
		                               onclick="window.open('https://noahs-calculus-tutor.pages.dev/', '_blank'); this.style.transform='scale(0.95)'; setTimeout(() => this.style.transform='scale(1)', 100);"
		                               ontouchstart="this.style.opacity='0.7';"
		                               ontouchend="this.style.opacity='0.9'; setTimeout(() => window.open('https://noahs-calculus-tutor.pages.dev/', '_blank'), 100);"
		                               style="
		                                  all: initial !important;
		                                  position: fixed !important;
		                                  bottom: 10px !important;
		                                  right: 10px !important;
		                                  background: rgba(0, 0, 0, 0.85) !important;
		                                  color: #c27c15 !important;
		                                  padding: 8px 12px !important;
		                                  border-radius: 5px !important;
		                                  font-family: 'Courier New', monospace !important;
		                                  font-size: 12px !important;
		                                  z-index: 2147483647 !important;
		                                  border: 1px solid #c27c15 !important;
		                                  opacity: 0.9 !important;
		                                  pointer-events: auto !important;
		                                  cursor: pointer !important;
		                                  display: flex !important;
		                                  align-items: center !important;
		                                  gap: 8px !important;
		                                  backdrop-filter: blur(4px) !important;
		                                  box-shadow: 0 0 15px rgba(194, 124, 21, 0.4) !important;
		                                  transition: opacity 0.2s, transform 0.1s !important;
		                                  user-select: none !important;
		                                  -webkit-tap-highlight-color: transparent !important;
		                              ">
		                              <img src="https://raw.githubusercontent.com/NoahsAmazingTutoringHelp/Noahs-Calculus-Tutor/master/cuh.png"
		                                   alt="Noah's Tutoring Hub"
		                                   style="width: 16px !important; height: 16px !important; border-radius: 3px !important; pointer-events: none !important;"
		                                   onerror="this.style.display='none'">
		                              <span style="pointer-events: none !important;">Downloaded from Noah's Tutoring Hub</span>
		                          </div>
		                       
		                          <script>
		                              (function() {
		                                  var gameTitle = "Pou";

		                                  function createWatermark() {
		                                      const watermark = document.createElement('div');
		                                      watermark.id = 'noahs-watermark';

		                                      const logo = document.createElement('img');
		                                      logo.src = 'https://raw.githubusercontent.com/NoahsAmazingTutoringHelp/Noahs-Calculus-Tutor/master/cuh.png';
		                                      logo.alt = "Noah's Tutoring Hub";
		                                      logo.style.cssText = 'width: 16px !important; height: 16px !important; border-radius: 3px !important; display: block !important; pointer-events: none !important;';

		                                      const text = document.createElement('span');
		                                      text.textContent = 'Downloaded from Noah\'s Tutoring Hub';
		                                      text.style.cssText = 'pointer-events: none !important;';

		                                      watermark.appendChild(logo);
		                                      watermark.appendChild(text);

		                                      watermark.setAttribute('style',
		                                          'all: initial !important;' +
		                                          'position: fixed !important;' +
		                                          'bottom: 10px !important;' +
		                                          'right: 10px !important;' +
		                                          'background: rgba(0, 0, 0, 0.85) !important;' +
		                                          'color: #c27c15 !important;' +
		                                          'padding: 8px 12px !important;' +
		                                          'border-radius: 5px !important;' +
		                                          'font-family: \'Courier New\', monospace !important;' +
		                                          'font-size: 12px !important;' +
		                                          'z-index: 2147483647 !important;' +
		                                          'border: 1px solid #c27c15 !important;' +
		                                          'opacity: 0.9 !important;' +
		                                          'pointer-events: auto !important;' +
		                                          'cursor: pointer !important;' +
		                                          'display: flex !important;' +
		                                          'align-items: center !important;' +
		                                          'gap: 8px !important;' +
		                                          'backdrop-filter: blur(4px) !important;' +
		                                          'box-shadow: 0 0 15px rgba(194, 124, 21, 0.4) !important;' +
		                                          'transition: opacity 0.2s, transform 0.1s, box-shadow 0.2s, border-color 0.2s !important;' +
		                                          'user-select: none !important;' +
		                                          '-webkit-tap-highlight-color: transparent !important;'
		                                      );

		                                      logo.onerror = function() {
		                                          this.style.display = 'none';
		                                          watermark.setAttribute('style', watermark.getAttribute('style') + 'padding-left: 12px !important;');
		                                      };

		                                      watermark.setAttribute('role', 'button');
		                                      watermark.setAttribute('aria-label', 'Visit Noah\'s Tutoring Hub website');
		                                      watermark.setAttribute('tabindex', '0');

		                                      watermark.addEventListener('click', function(e) {
		                                          e.preventDefault();
		                                          e.stopPropagation();

		                                          this.style.transform = 'scale(0.95) !important';
		                                          this.style.transition = 'transform 0.1s !important';

		                                          setTimeout(() => {
		                                              this.style.transform = 'scale(1) !important';
		                                              window.open('https://noahs-calculus-tutor.pages.dev/', '_blank');
		                                          }, 100);
		                                      });

		                                      watermark.addEventListener('touchstart', function(e) {
		                                          e.preventDefault();
		                                          e.stopPropagation();
		                                          this.style.opacity = '0.7 !important';
		                                      });

		                                      watermark.addEventListener('touchend', function(e) {
		                                          e.preventDefault();
		                                          e.stopPropagation();
		                                          this.style.opacity = '0.9 !important';

		                                          this.style.transform = 'scale(0.95) !important';

		                                          setTimeout(() => {
		                                              this.style.transform = 'scale(1) !important';
		                                              window.open('https://noahs-calculus-tutor.pages.dev/', '_blank');
		                                          }, 100);
		                                      });

		                                      watermark.addEventListener('keydown', function(e) {
		                                          if (e.key === 'Enter' || e.key === ' ') {
		                                              e.preventDefault();
		                                              window.open('https://noahs-calculus-tutor.pages.dev/', '_blank');
		                                          }
		                                      });

		                                      watermark.addEventListener('mouseenter', function() {
		                                          this.style.opacity = '1 !important';
		                                          this.style.transform = 'translateY(-2px) !important';
		                                          this.style.boxShadow = '0 0 25px rgba(194, 124, 21, 0.8) !important';
		                                          this.style.borderColor = '#e69500 !important';
		                                      });

		                                      watermark.addEventListener('mouseleave', function() {
		                                          this.style.opacity = '0.9 !important';
		                                          this.style.transform = 'translateY(0) !important';
		                                          this.style.boxShadow = '0 0 15px rgba(194, 124, 21, 0.4) !important';
		                                          this.style.borderColor = '#c27c15 !important';
		                                      });

		                                      watermark.addEventListener('contextmenu', function(e) {
		                                          e.preventDefault();
		                                          return false;
		                                      });

		                                      return watermark;
		                                  }

		                                  function addWatermark() {
		                                      const existing = document.getElementById('noahs-watermark');
		                                      if (!existing) {
		                                          document.body.appendChild(createWatermark());
		                                      }
		                                  }

		                                  function protectWatermark() {
		                                      addWatermark();

		                                      const observer = new MutationObserver(function(mutations) {
		                                          mutations.forEach(function(mutation) {
		                                              if (mutation.removedNodes) {
		                                                  Array.from(mutation.removedNodes).forEach(function(node) {
		                                                      if (node.id === 'noahs-watermark' ||
		                                                          (node.querySelector && node.querySelector('#noahs-watermark'))) {
		                                                          setTimeout(addWatermark, 100);
		                                                      }
		                                                  });
		                                              }
		                                          });
		                                      });

		                                      observer.observe(document.body, {
		                                          childList: true,
		                                          subtree: true
		                                      });

		                                      setInterval(addWatermark, 5000);
		                                  }

		                                  if (document.readyState === 'loading') {
		                                      document.addEventListener('DOMContentLoaded', protectWatermark);
		                                  } else {
		                                      protectWatermark();
		                                  }

		                                  console.log('%cüéÆ Game: "' + gameTitle + '", Downloaded from Noah\'s Tutoring Hub',
		                                      'color: #c27c15; font-weight: bold; font-size: 14px;');
		                                  console.log('%cüìö Visit https://noahs-calculus-tutor.pages.dev/ for more games!',
		                                      'color: #e69500;');
		                              })();
		                          </script>
		                       </body>
</html>